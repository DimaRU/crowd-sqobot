; Initial values for any options omitted in more specific config files.
;
; Please do not edit this file to avoid problems when upgrading.
; Use user-level files like main.conf instead.

;------------------------------------------------------------------------
; Database
;------------------------------------------------------------------------

dbDSN             = mysql:host=localhost;dbname=tp_bot
dbUser            = root
dbPassword        =
dbPrefix          = st_
dbEngine          = InnoDB
dbConCharset      = utf-8

; All but '' and 0 values enable off-loaded table listing all per-site IDs that
; should not be crawled. Useful for distributed spider to keep all instances in
; sync. If '1' table name is set to 'pages'. Final table value starts with dbPrefix.
;
dbPageIndex       =

;------------------------------------------------------------------------
; Atomation
;------------------------------------------------------------------------

; If enabled all new rows created within transactions won't go into the database
; but will be stored in out/atoms/SEQNAME.php. The atom task's methods can be used
; to pack, unpack and import those commits on a different machine.
;
atomate           =

; Space-separated values: create (when a new row is inserted), update (when a row
; is updated based on some exact criteria). If empty atomation is disabled.
;atomate           = create update

; The minimum number of atoms a dumped transaction must have. Use with care as if
; an abrupt script termination occurs it might wipe out all atoms that were pending
; for dumping. A value of 1 or below (or empty) saves atoms as soon as they appear.
;
atomsPerFile      = 100

;------------------------------------------------------------------------
; Miscellaneous
;------------------------------------------------------------------------

; Seconds after which if a queue item hasn't been fulfilled it's marked as failed.
queueTimeout      = 60

log               = info warn error fatal
logFile           = out/%Y-%m-%d-%a.log

;------------------------------------------------------------------------
; Remote Server Connections
;------------------------------------------------------------------------

; Msec to wait before doing repetitive remote server requests. A random 10% margin
; is added so that for 200 msec actual delay will be between 200 and 220 msec.
remoteDelay       = 500

; Lists of values to be randomly picked when contacting remote server.
;
; Accept-Language header
dl languages      = ru en-us en-gb en de ja cn-zh pt-br es it
; Accept-Charset header
dl charsets       = windows-1251 utf-8 koi8-u big-5 euc-jp shift-jis iso-8859-1
; Accept header
dl mimes          = text/html application/xhtml+xml application/xml

dlRedirects       = 5
; HTTP/1.0 or 1.1.
dlProtocol        = 1.0
; Seconds. Can be float, e.g. 3.5 for 3500 msec.
dlTimeout         = 10
; If set HTTP error statuses (404, 500, etc.) are ignored and exceptions are not thrown.
dlFetchOnError    = 0

;------------------------------------------------------------------------
; Class Autoloading
;------------------------------------------------------------------------

; Aliasing class to another class name.
class Sqobot\HLEx = Px\HLEx

; HLEx is a utility class required for web interface.
class Px\HLEx     = $hlex.php

; Sample autoloader mapping, overrides default search paths. Initial '$' refers
; to lib/. If path doesn't end on '.php' it's class -> class name alias (as above).
;class SomeClass   = $some.class.php

; Site name -> Sqissor mappings can be listed here. Class name is global (not relative
; to Sqobot\) and will be autoloaded using regular rules including 'class X=file.php'
; mappings above.
;
; If a site isn't listed here it's converted to 'Sqobot\S' + ucfirst(class name with
; removed dots and a symbol following them converted to upper case).
; Example: site.users -> Sqobot\SSiteUsers.
;
;class site.users  = MyNS\UsersParser

;------------------------------------------------------------------------
; URL Caching
;------------------------------------------------------------------------

; Sample URL mappings. They are evaluated recursively until a non-listen URL is
; found - it's then used to retrieve the data. Useful on local systems to speed
; up sqissor debugging saving remote pages locally. URLs are looked up exactly
; as requested (e.g. in download()).
;
;url http://site.name/list.php = file:///home/roger/sqissor/list-1.html
;url http://site.name/list.php?page=1 = http://site.name/list.php?page=0

; Relative paths start from Sqobot's working directory (usually of cli.php).
;url http://site.name/list.php = user/list-1.html

; Empty value terminates lookup and uses left-side URL as final.
;url http://site.name/list.php =

; Note that even local paths should be URL-encoded as they're converted to file:///.
;url http://site.name/list.php = path/with%20spaces.html

;------------------------------------------------------------------------
; Web Interface Access
;------------------------------------------------------------------------

; List of default permissions for anyone accessing this Sqobot instance via web
; interface. Perms starting with 'web' allow for web tasks with this name.
; Command-line user is always granted unrestricted access.
;
user                  = webindex webstatus webnodes

; Set to empty string to disallow web access unless allowed for an authorized
; user by more specific options below.
;user                  =

; If value starts with '=' default permissions ('user' with no name) are not used
; and this user always has exactly listed perms. If value is just '=' the user
; has no perms and is denied web access even if 'user' above allows it by default.
;
;user sqipper          = = webpatch

; Linking PHP_AUTH_USER with his permissions in web interface.
; User name and permissions are case-sensitive.
;user HttpAuthLogin    = webpatch

; Asterisk grants all permissions. Use for yourself.
;user aion            = *

cookiePrefix          = sqb.
; Either a number in seconds or a word (see Squall's expire()).
cookieExpire          = month
cookiePath            =
cookieDomain          =
; If empty string will be autoset if request is served via HTTPS or not.
cookieSecure          =

forceHTTPS            = 0

; By default user denials are rendered as 403 Forbidden. This option can be set to
; arbitrary HTTP code (e.g. 404) to conceal the fact that user lacks permissions.
;
; Since Sqobot's error response differs from your webserver's error page (Apache's,
; nginx', etc.) you might also want to set up ErrorDocument like .../web/?quit=404.
;
webDenyAs             = 403

; Composition of the default web interface page. Asterisk includes all unlisted
; tasks in alphabetical order. If it's not present only listed tasks are shown.
; Tasks to which the user has no access are hidden. Duplicates are ignored.
webIndexOrder         = status tasks patch nodes *

; Links item captions in the top menu with their URL relative to web interface root.
webMenu Start         = .

;------------------------------------------------------------------------
; Remote Sqobot Nodes
;------------------------------------------------------------------------

; Listing distributed nodes. 'alpha' is node name displayed for humans. Value begins
; with an IP address or a hostname after which optional user/password go used to
; access the node from this system. The level of permissions granted by such access
; is determined by 'user' option(s) of the target node.
;
; Node names must be unique. Host can be of any valid URI form, e.g.
; https://example.com:8081/sqobot. If schema is missing it's set to 'http://'.
;
;node sqalker          = 127.0.0.1 sqipper coeMae4jphing5Ee
